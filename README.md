# Cloudflare TLS and ECH Manager

Скрипт для массового управления настройками TLS 1.3 и ECH (Encrypted Client Hello) для всех доменов в аккаунте Cloudflare. Позволяет включать или отключать эти функции для всех доменов одновременно.

## Возможности

- Получение списка всех доменов в аккаунте
- Массовое управление TLS 1.3:
  - Включение TLS 1.3
  - Отключение TLS 1.3
- Массовое управление ECH:
  - Включение ECH
  - Отключение ECH
- Асинхронная обработка запросов для быстрой работы
- Подробная статистика выполнения

## Требования

- Python 3.7+
- aiohttp

## Установка

1. Скачайте файл cloudflare-manager.py:

2. Установите зависимости:
```bash
pip install aiohttp
```

## Получение API токена Cloudflare

1. Войдите в панель управления Cloudflare (https://dash.cloudflare.com)
2. В правом верхнем углу нажмите на свой профиль
3. Выберите "My Profile"
4. В боковом меню выберите "API Tokens"
5. Нажмите "Create Token"
6. Выберите "Create Custom Token"
7. Задайте следующие параметры:
   - Имя токена (любое удобное)
   - Permissions (Разрешения):
     - Zone Settings - Edit
     - Zone - Read
   - Zone Resources:
     - Include - All zones (или выберите конкретные зоны)
   - TTL (можно оставить бессрочным или указать срок действия)
8. Нажмите "Continue to summary" и затем "Create Token"
9. **Важно**: Скопируйте созданный токен, он показывается только один раз

## Настройка

Вставьте ваш API токен в скрипт:
```python
api_token = "ваш_токен_здесь"
```

## Использование

1. Запустите скрипт:
```bash
python cloudflare-manager.py
```

2. Скрипт покажет список всех доменов в вашем аккаунте

3. Выберите действие:
   - 1 - Включить TLS 1.3 для всех доменов
   - 2 - Отключить TLS 1.3 для всех доменов
   - 3 - Включить ECH для всех доменов
   - 4 - Отключить ECH для всех доменов

4. Дождитесь завершения операции

## Ручное управление настройками

### TLS 1.3

Для ручного управления TLS 1.3:

1. Войдите в панель управления Cloudflare
2. Выберите нужный домен
3. Перейдите в раздел "SSL/TLS"
4. Выберите вкладку "Edge Certificates"
5. Найдите секцию "TLS 1.3"
6. Используйте переключатель для включения/отключения

### ECH

Для ручного управления ECH:

1. Войдите в панель управления Cloudflare
2. Выберите нужный домен
3. Перейдите в раздел "SSL/TLS"
4. Выберите вкладку "Edge Certificates"
5. Найдите секцию "Encrypted Client Hello"
6. Используйте переключатель для включения/отключения

Изменения для обеих настроек вступают в силу автоматически без дополнительного подтверждения.
